<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>

    <!-- Using Jquery for calendar -->
    <link href='https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/ui-lightness/jquery-ui.css'
        rel='stylesheet'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js">
    </script>

    <script src="https://kit.fontawesome.com/2d9b67a497.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="../assets/css/home.css">
    <title>
        
    </title>
</head>
<body>
    <form action="/create-task" method="post" class="col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-6 offset-lg-3 bg-light opacity-9 pb-0" id="main">
        <section id="title">
            <h1 class="text-secondary text-center"><i class="fa light fa-book" style="color:#9b6cb7"></i><%=locals.title%></h1>
        </section>
        <hr class="m-0 bg-warning">
        <section id="desc">
            <div class="form-group">
                <label for="exampleFormControlTextarea1">Description</label>
                <textarea class="form-control" id="exampleFormControlTextarea1" rows="1"
                    placeholder="What do you need to do?" name="Description"></textarea>
            </div>
        </section>
        <hr class="mt-0 mb-2">
        <section id="two-dropdowns d-inline-flex p-2 bd-highlight" class="text-center">
            <!-- Dropdown -->
            <div class="input-group category-chooser d-flex p-2 bd-highlight">
                <select class="custom-select bg-light" id="inputGroupSelect01" name="Category">
                    <option selected>Choose a Category</option>
                    <option value="Personal">Personal</option>
                    <option value="Work">Work</option>
                    <option value="School">School</option>
                    <option value="Cleaning">Cleaning</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div class="vertical-line"></div>
        
            <input type="text" id="my_date_picker" placeholder="Due Date" name="Due_Date" class="mb-2 d-inline-flex p-2 bd-highlight">
        </section>
        <hr class="mt-0 mb-0">
    </form>
    
    <section id="task-action"
        class="text-center col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-6 offset-lg-3 bg-light opacity-9 pb-0">
        <!-- Add task -->
        <button type="submit" form="main" class="btn btn-success btn-lg m-lg-3 m-sm-2 mb-3 mt-3"><i
                class="fas fa-plus"></i> ADD
            TASK</button>
        <!-- Delete Task -->
        <a href="" class="btn btn-danger btn-lg m-lg-3 m-sm-2 mb-3 mt-3"><i class="far fa-trash-alt"></i>
            DELETE
            TASKS</a>
    </section>

    <form id="tasks" method="GET" action=""
        class="col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-6 offset-lg-3 bg-light opacity-9 pb-0">
        
        <%let count=0;for (let t of task_list){%>
        <div class="task pl-2">
          
            <hr class="mb-3 mt-1">
            <div class="custom-control custom-checkbox position-relative">
              
                <input type="checkbox" class="custom-control-input" id="<%=t._id%>">
                
                <label class="custom-control-label font-weight-bold" for="<%=t._id%>"><%if(t.Description.length==0){%>
                    <%="No Description Added"%> <%}else{%> <%=t.Description%> <%}%></label>
                
                <div class="d-block text-muted"><i class="fas fa-calendar-alt"></i> <%if(t.Due_Date==null){%>
                    <%="No Deadline"%> <%}else{%> <%=t.Due_Date%> <%}%></div>
               
                <div class="logo btn position-absolute btn-primary disabled"><%=t.Category%></div>
        </div>
        </div>
        <%count++;}%>
    </form>
    <!-- Date picker script from jquery -->
    <script>
        $(document).ready(function ()
        {
            $(function ()
            {
                $("#my_date_picker").datepicker();
            });
        }) 
    </script>
<script type="text/javascript" src="./js/home.js"></script>
</body>
</html>